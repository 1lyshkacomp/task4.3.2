<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <title>JWT Minimal</title>
    <style>
        body { font-family: sans-serif; padding: 20px; max-width: 600px; margin: 0 auto; }
        .card { border: 1px solid #ccc; padding: 15px; margin-bottom: 20px; border-radius: 8px; }
        .hidden { display: none; }
        input { display: block; margin-bottom: 10px; width: 100%; padding: 8px; box-sizing: border-box; }
        button { cursor: pointer; padding: 8px 15px; background: #007bff; color: white; border: none; border-radius: 4px; }
        button.delete { background: #dc3545; }
        h2 { margin-top: 0; }
    </style>
  </head>
  <body>
    <div id="auth-section">
      <div class="card">
        <h2>1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
        <input id="reg-nick" placeholder="–ù–∏–∫–Ω–µ–π–º" />
        <input id="reg-pass" type="password" placeholder="–ü–∞—Ä–æ–ª—å" />
        <button onclick="register()">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
      </div>

      <div class="card">
        <h2>2. –í—Ö–æ–¥</h2>
        <input id="login-nick" placeholder="–ù–∏–∫–Ω–µ–π–º" />
        <input id="login-pass" type="password" placeholder="–ü–∞—Ä–æ–ª—å" />
        <button onclick="login()">–í–æ–π—Ç–∏</button>
      </div>
    </div>

    <div id="profile-section" class="hidden">
      <div class="card">
        <h2>üë§ –ú–æ–π –ü—Ä–æ—Ñ–∏–ª—å</h2>
        <p><strong>–†–æ–ª—å:</strong> <span id="user-role"></span></p>
        <p><strong>–ù–∏–∫:</strong> <span id="user-nick"></span></p>

        <h3>–û–±–Ω–æ–≤–∏—Ç—å (–¢–µ—Å—Ç 412)</h3>
        <button onclick="updateProfile()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å (–æ–±–Ω–æ–≤–∏—Ç—å updated_at)</button>
        <hr />
        <button class="delete" onclick="deleteUser()">–£–¥–∞–ª–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç</button>
        <button onclick="logout()" style="background: #6c757d; margin-top: 10px">–í—ã–π—Ç–∏</button>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>